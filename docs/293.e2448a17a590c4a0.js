"use strict";(self.webpackChunkE_Commerce=self.webpackChunkE_Commerce||[]).push([[293],{5293:(P,g,a)=>{a.r(g),a.d(g,{AuthenticationModule:()=>U});var m=a(6895),s=a(2019),o=a(433),e=a(8256),u=a(7873),c=a(7579);let p=(()=>{class t{constructor(n){this.router=n,this.subject=new c.x,this.subject2=new c.x,this.keepAfterNavigationChange=!1,n.events.subscribe(r=>{r instanceof s.OD&&(this.keepAfterNavigationChange?this.keepAfterNavigationChange=!1:this.subject.next())})}success(n,r=!1){this.keepAfterNavigationChange=r,this.subject2.next({type:"success",text:n})}error(n,r=!1){this.keepAfterNavigationChange=r,this.subject2.next({type:"error",text:n})}getMessage(){return this.subject.asObservable()}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(s.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const f=["invalidCredentials"];function h(t,i){1&t&&(e.TgZ(0,"div")(1,"div",13),e._uU(2," Your Email or Password not correct. try again! "),e.qZA()())}let d=(()=>{class t{constructor(n,r,l,q){this.authService=n,this.router=r,this.fb=l,this.alertService=q,this.loginForm=new o.cw({email:new o.NI,password:new o.NI}),this.isLogin=!1,this.unauthenticated=!1,this.name="",this.email="",this.authService.isLoggedIn()&&this.router.navigate(["/home"])}ngOnInit(){}userLogin(){localStorage.getItem("name")||localStorage.setItem("name",""),localStorage.getItem("email")||localStorage.setItem("email",""),this.authService.login(this.loginForm.value).subscribe(n=>{localStorage.setItem("token",n.token),this.isLogin=!0,localStorage.setItem("userLogin","true"),console.log(this.loginForm.value),this.authService.name=n.name,this.authService.email=n.email,localStorage.setItem("name",n.name),localStorage.setItem("email",n.email),this.isLogin=!0,this.name=this.authService.name,this.router.navigate(["/home"]).then(()=>{window.location.reload()})},n=>{this.loginForm.setErrors({unauthenticated:!0})})}hide(){}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(u.e),e.Y36(s.F0),e.Y36(o.qu),e.Y36(p))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],viewQuery:function(n,r){if(1&n&&e.Gf(f,7),2&n){let l;e.iGM(l=e.CRH())&&(r.invCredentials=l.first)}},decls:23,vars:3,consts:[[1,"form-signin",2,"margin-top","5vh"],[3,"formGroup","ngSubmit"],[4,"ngIf"],["src","assets/pics/\u2014Pngtree\u2014smiling%20people%20avatar%20set%20different_7690740.png","alt","avatar","width","100","height","100",1,"mb-4"],[1,"text-center"],["for","floatingInput",2,"font-weight","bolder"],["formControlName","email","type","email","id","floatingInput","placeholder","name@example.com","required","",1,"form-control",2,"margin-bottom","1vh"],["for","floatingPassword",2,"font-weight","bolder"],["formControlName","password","type","password","id","floatingPassword","placeholder","Password","required","",1,"form-control"],[1,"checkbox","mb-3"],["type","checkbox","value","remember-me",2,"font-weight","bolder"],["type","submit","id","myBtn3",1,"w-100","btn","btn-lg","btn-primary",3,"disabled"],[1,"text-center",2,"margin-bottom","2rem"],["role","alert",1,"alert","alert-danger"]],template:function(n,r){1&n&&(e.TgZ(0,"main",0)(1,"form",1),e.NdJ("ngSubmit",function(){return r.userLogin()}),e.YNc(2,h,3,0,"div",2),e._UZ(3,"img",3),e.TgZ(4,"h1",4),e._uU(5,"Please Login"),e.qZA(),e.TgZ(6,"div",4)(7,"label",5),e._uU(8,"E-mail Address"),e.qZA(),e._UZ(9,"input",6),e.qZA(),e.TgZ(10,"div",4)(11,"label",7),e._uU(12,"Password"),e.qZA(),e._UZ(13,"input",8),e.qZA(),e.TgZ(14,"div",9)(15,"label"),e._UZ(16,"input",10),e._uU(17," Remember me "),e.qZA()(),e.TgZ(18,"button",11),e._uU(19," Login "),e.qZA()(),e.TgZ(20,"p",12),e._UZ(21,"br"),e._uU(22," \xa9 2022 E-commerce "),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("formGroup",r.loginForm),e.xp6(1),e.Q6J("ngIf",null==r.loginForm.errors?null:r.loginForm.errors.unauthenticated),e.xp6(16),e.Q6J("disabled",!r.loginForm.valid))},dependencies:[m.O5,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.sg,o.u],styles:["html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{min-height:100%}.bg[_ngcontent-%COMP%]{background-color:#eee}img[_ngcontent-%COMP%]{margin-left:13vh}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:19vh;padding-bottom:31vh;background-color:#eee}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;height:100%;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}#myBtn3[_ngcontent-%COMP%]{background:#FFC107;border-color:#ffc107}"]}),t})();function b(t,i){1&t&&(e.TgZ(0,"small",33),e._uU(1," Name is required"),e.qZA())}function _(t,i){1&t&&(e.TgZ(0,"small",33),e._uU(1," Username is required"),e.qZA())}function v(t,i){1&t&&(e.TgZ(0,"small",33),e._uU(1," Enter a valid E-mail "),e.qZA())}function Z(t,i){1&t&&(e.TgZ(0,"small",34),e._uU(1," Valid Password Required, Capitals, Special Charachters & Numbers"),e.qZA())}function C(t,i){1&t&&(e.TgZ(0,"small",33),e._uU(1," Valid address is required"),e.qZA())}function A(t,i){if(1&t&&(e.TgZ(0,"option",35),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.Q6J("ngValue",n),e.xp6(1),e.hij(" ",n," ")}}const y=[{path:"",component:d},{path:"login",component:d},{path:"register",component:(()=>{class t{constructor(n,r){this._AuthService=n,this._Router=r,this.register=[],this.email=[],this.states=["Cairo","Alexandria"],this.registerForm=new o.cw({name:new o.NI("",o.kI.required),userName:new o.NI("",o.kI.required),email:new o.NI("",[o.kI.required,o.kI.email]),password:new o.NI("",[o.kI.required,o.kI.pattern("^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$")]),gender:new o.NI(""),phoneNum:new o.NI(20,[o.kI.required,o.kI.pattern("^01[0-2,5]{1}[0-9]{8}$")]),city:new o.NI(""),address:new o.NI("",[o.kI.required,o.kI.minLength(10)])})}Submit(n){console.log("form is submitted",n)}ngOnInit(){}userRegister(){console.log(this.registerForm.value),this._AuthService.registerUser(this.registerForm.value).subscribe(n=>{this.state=n,this._Router.navigate(["/home"])},n=>{alert("Error")})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(u.e),e.Y36(s.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:62,vars:7,consts:[[1,"form-signin",2,"margin-top","2rem",3,"formGroup","ngSubmit"],["src","assets/pics/\u2014Pngtree\u2014smiling%20people%20avatar%20set%20different_7690740.png","alt","avatar","width","100","height","100",1,"mb-4"],[1,"text-center"],[1,"col-12"],["for","inputname",1,"form-label"],["formControlName","name","type","text","id","inputname","placeholder","name..","required","",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"col-md-6"],[1,"form-label"],["type","radio","name","gender","value","male","formControlName","gender"],["type","radio","name","gender","value","female","formControlName","gender"],[1,"invalid-feedback"],["for","inputusername",1,"form-label"],["formControlName","userName","type","text","id","inputusername","placeholder","user name..","required","",1,"form-control"],[1,"col-md-12"],["for","inputEmail4",1,"form-label"],["formControlName","email","type","email","id","inputEmail4","placeholder","you@example.com","required","",1,"form-control",2,"margin-bottom","1vh"],["for","inputPassword4",1,"form-label"],["formControlName","password","type","password","id","inputPassword4","placeholder","**********","required","",1,"form-control"],["class","text-danger","style","display: block",4,"ngIf"],["for","inputAddress",1,"form-label"],["formControlName","address","type","text","id","inputAddress","placeholder","1234 Main St","required","",1,"form-control"],[1,"input-group","has-validation"],[1,"input-group-text"],["formControlName","phoneNum","type","text","id","mobile","required","",1,"form-control",2,"margin-bottom","0"],["for","country",1,"form-label",2,"margin-top","1vh"],["id","country","required","","formControlName","city",1,"form-select"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-12",2,"margin-top","1vh"],[1,"form-check"],["type","checkbox","id","gridCheck",1,"form-check-input"],["for","gridCheck",1,"form-check-label"],["type","submit","id","myBtn3",1,"w-100","btn","btn-lg","btn-primary",2,"margin-bottom","2rem"],[1,"text-danger"],[1,"text-danger",2,"display","block"],[3,"ngValue"]],template:function(n,r){1&n&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return r.userRegister()}),e._UZ(1,"img",1),e.TgZ(2,"h1",2),e._uU(3,"Please Register"),e.qZA(),e.TgZ(4,"div",3)(5,"label",4),e._uU(6,"Name"),e.qZA(),e._UZ(7,"input",5),e.YNc(8,b,2,0,"small",6),e.qZA(),e.TgZ(9,"div",7)(10,"label",8),e._uU(11,"Gender"),e.qZA(),e._UZ(12,"br")(13,"input",9),e._uU(14," Male "),e._UZ(15,"input",10),e._uU(16," Female"),e._UZ(17,"br"),e.TgZ(18,"div",11),e._uU(19," Please select a choice "),e.qZA()(),e.TgZ(20,"div",3)(21,"label",12),e._uU(22,"User Name"),e.qZA(),e._UZ(23,"input",13),e.YNc(24,_,2,0,"small",6),e.qZA(),e.TgZ(25,"div",14)(26,"label",15),e._uU(27,"Email"),e.qZA(),e._UZ(28,"input",16),e.YNc(29,v,2,0,"small",6),e.qZA(),e.TgZ(30,"div",14)(31,"label",17),e._uU(32,"Password"),e.qZA(),e._UZ(33,"input",18),e.YNc(34,Z,2,0,"small",19),e.qZA(),e.TgZ(35,"div",3)(36,"label",20),e._uU(37,"Address"),e.qZA(),e._UZ(38,"input",21),e.YNc(39,C,2,0,"small",6),e.qZA(),e.TgZ(40,"div",14)(41,"label",15),e._uU(42,"Mobile Phone "),e.qZA(),e.TgZ(43,"div",22)(44,"span",23),e._uU(45,"+20"),e.qZA(),e._UZ(46,"input",24),e.qZA()(),e.TgZ(47,"div",7)(48,"label",25),e._uU(49,"City"),e.qZA(),e.TgZ(50,"select",26),e.YNc(51,A,2,2,"option",27),e.qZA(),e.TgZ(52,"div",11),e._uU(53," Please select a valid country. "),e.qZA()(),e.TgZ(54,"div",28)(55,"div",29),e._UZ(56,"input",30),e.TgZ(57,"label",31),e._uU(58," Save passwords for this website "),e.qZA()()(),e._UZ(59,"br"),e.TgZ(60,"button",32),e._uU(61," Register "),e.qZA()()),2&n&&(e.Q6J("formGroup",r.registerForm),e.xp6(8),e.Q6J("ngIf",r.registerForm.get("name").invalid&&r.registerForm.get("name").touched),e.xp6(16),e.Q6J("ngIf",r.registerForm.get("userName").invalid&&r.registerForm.get("userName").touched),e.xp6(5),e.Q6J("ngIf",r.registerForm.get("email").invalid&&r.registerForm.get("email").touched),e.xp6(5),e.Q6J("ngIf",r.registerForm.get("password").invalid&&r.registerForm.get("password").touched),e.xp6(5),e.Q6J("ngIf",r.registerForm.get("address").invalid&&r.registerForm.get("address").touched),e.xp6(12),e.Q6J("ngForOf",r.states))},dependencies:[m.sg,m.O5,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o._,o.JJ,o.JL,o.Q7,o.sg,o.u],styles:["html[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{min-height:100%}.bg[_ngcontent-%COMP%]{background-color:#eee}img[_ngcontent-%COMP%]{margin-left:13vh}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:19vh;padding-bottom:31vh;background-color:#eee}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;height:100%;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}#myBtn3[_ngcontent-%COMP%]{background:#FFC107;border-color:#ffc107}.form-label[_ngcontent-%COMP%]{margin-bottom:0;margin-left:3px;font-weight:700}input[_ngcontent-%COMP%]{margin-bottom:1vh}"]}),t})()}];let w=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[s.Bz.forChild(y),s.Bz]}),t})(),U=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.ez,w,o.u5,o.UX]}),t})()}}]);